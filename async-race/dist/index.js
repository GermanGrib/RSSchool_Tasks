(()=>{"use strict";var e={5465:(e,t,n)=>{n.d(t,{Z:()=>E});var a=n(8081),r=n.n(a),s=n(3645),l=n.n(s),o=n(1667),i=n.n(o),d=new URL(n(5648),n.b),c=l()(r()),u=i()(d);c.push([e.id,`.car{position:relative;background-color:silver}.car::after{content:"";position:absolute;right:5%;top:50%;transform:translateY(-50%);width:3rem;height:3rem;background-image:url(${u});background-repeat:no-repeat}.car-svg{position:relative;display:inline-block;width:8rem;height:5rem;color:inherit}@media(max-width: 750px){.winner .car-svg{width:5rem}}`,""]);const E=c},7441:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(8081),r=n.n(a),s=n(3645),l=n.n(s)()(r());l.push([e.id,".top-controllers-container{display:flex;margin-bottom:.5rem;gap:.5rem}.top-controllers__remove-btn{margin-right:1rem}.top-controllers__car-name{margin:0}.update-car.disabled{opacity:.5;pointer-events:none;user-select:none}.control-btns__race.disabled{user-select:none;pointer-events:none;opacity:.5}.control-btns__reset.disabled{user-select:none;pointer-events:none;opacity:.5}",""]);const o=l},5423:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(8081),r=n.n(a),s=n(3645),l=n.n(s)()(r());l.push([e.id,".page-btns{display:flex;position:absolute;top:5%;right:5%;padding-top:1rem;justify-content:center;gap:3rem}.page-btns__previous-btn{user-select:none}.page-btns__previous-btn.disabled{pointer-events:none;user-select:none;opacity:.5}.page-btns__next-btn{user-select:none}.page-btns__next-btn.disabled{pointer-events:none;user-select:none;opacity:.5}",""]);const o=l},6971:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(8081),r=n.n(a),s=n(3645),l=n.n(s)()(r());l.push([e.id,".tracks-container{display:flex;flex-direction:column;gap:2rem}.middle-controllers__start-race.is-active{pointer-events:none;user-select:none;opacity:.3}.middle-controllers__stop-race{pointer-events:none;user-select:none;opacity:.3}.middle-controllers__stop-race.is-active{pointer-events:unset;user-select:unset;opacity:1}",""]);const o=l},8092:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(8081),r=n.n(a),s=n(3645),l=n.n(s)()(r());l.push([e.id,".winner-table{grid-template-columns:repeat(5, 1fr);grid-gap:1px}.winner-table__header,.winner-table__raw{display:grid;grid-template-columns:repeat(5, 1fr)}.winner-table__cell{padding:10px;border:1px solid #ccc;text-align:center}.winner-table__cell.cell-wins,.winner-table__cell.cell-best-time{background-color:#333;cursor:pointer;transition:opacity .3s ease-in-out}.winner-table__cell.cell-wins:hover,.winner-table__cell.cell-best-time:hover{opacity:.7}@media(max-width: 750px){.winner-table__cell{font-size:1.5rem}}",""]);const o=l},2651:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(8081),r=n.n(a),s=n(3645),l=n.n(s)()(r());l.push([e.id,".navigation{display:flex;gap:1rem}.nav-item{transition:opacity .3s ease-in-out;cursor:pointer}.nav-item:hover{opacity:.7}",""]);const o=l},7638:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(8081),r=n.n(a),s=n(3645),l=n.n(s)()(r());l.push([e.id,".nav-item__disabled{user-select:none;pointer-events:none;opacity:.5}",""]);const o=l},2938:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(8081),r=n.n(a),s=n(3645),l=n.n(s)()(r());l.push([e.id,'.main.is-win .win-text{content:"";display:flex;position:absolute;padding:2rem;top:50%;left:50%;color:#fff;background-color:#000;font-size:2.5rem;transform:translate(-50%, -50%)}',""]);const o=l},7192:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(8081),r=n.n(a),s=n(3645),l=n.n(s)()(r());l.push([e.id,"html{font-size:10px}body{display:flex;margin:0 auto;flex-direction:column;height:100vh;color:#00a8ff;background-color:#1e1e1e;font-size:2rem}button{cursor:pointer;color:#ff4d00}",""]);const o=l},3645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",a=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),a&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),a&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,a,r,s){"string"==typeof e&&(e=[[null,e,void 0]]);var l={};if(a)for(var o=0;o<this.length;o++){var i=this[o][0];null!=i&&(l[i]=!0)}for(var d=0;d<e.length;d++){var c=[].concat(e[d]);a&&l[c[0]]||(void 0!==s&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=s),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),r&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=r):c[4]="".concat(r)),t.push(c))}},t}},1667:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},8081:e=>{e.exports=function(e){return e[1]}},5227:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var a=n(3379),r=n.n(a),s=n(7795),l=n.n(s),o=n(569),i=n.n(o),d=n(3565),c=n.n(d),u=n(9216),E=n.n(u),f=n(4589),m=n.n(f),C=n(5465),_={};_.styleTagTransform=m(),_.setAttributes=c(),_.insert=i().bind(null,"head"),_.domAPI=l(),_.insertStyleElement=E(),r()(C.Z,_);const g=C.Z&&C.Z.locals?C.Z.locals:void 0},211:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var a=n(3379),r=n.n(a),s=n(7795),l=n.n(s),o=n(569),i=n.n(o),d=n(3565),c=n.n(d),u=n(9216),E=n.n(u),f=n(4589),m=n.n(f),C=n(7441),_={};_.styleTagTransform=m(),_.setAttributes=c(),_.insert=i().bind(null,"head"),_.domAPI=l(),_.insertStyleElement=E(),r()(C.Z,_);const g=C.Z&&C.Z.locals?C.Z.locals:void 0},7609:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var a=n(3379),r=n.n(a),s=n(7795),l=n.n(s),o=n(569),i=n.n(o),d=n(3565),c=n.n(d),u=n(9216),E=n.n(u),f=n(4589),m=n.n(f),C=n(5423),_={};_.styleTagTransform=m(),_.setAttributes=c(),_.insert=i().bind(null,"head"),_.domAPI=l(),_.insertStyleElement=E(),r()(C.Z,_);const g=C.Z&&C.Z.locals?C.Z.locals:void 0},9205:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var a=n(3379),r=n.n(a),s=n(7795),l=n.n(s),o=n(569),i=n.n(o),d=n(3565),c=n.n(d),u=n(9216),E=n.n(u),f=n(4589),m=n.n(f),C=n(6971),_={};_.styleTagTransform=m(),_.setAttributes=c(),_.insert=i().bind(null,"head"),_.domAPI=l(),_.insertStyleElement=E(),r()(C.Z,_);const g=C.Z&&C.Z.locals?C.Z.locals:void 0},5115:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var a=n(3379),r=n.n(a),s=n(7795),l=n.n(s),o=n(569),i=n.n(o),d=n(3565),c=n.n(d),u=n(9216),E=n.n(u),f=n(4589),m=n.n(f),C=n(8092),_={};_.styleTagTransform=m(),_.setAttributes=c(),_.insert=i().bind(null,"head"),_.domAPI=l(),_.insertStyleElement=E(),r()(C.Z,_);const g=C.Z&&C.Z.locals?C.Z.locals:void 0},3991:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var a=n(3379),r=n.n(a),s=n(7795),l=n.n(s),o=n(569),i=n.n(o),d=n(3565),c=n.n(d),u=n(9216),E=n.n(u),f=n(4589),m=n.n(f),C=n(2651),_={};_.styleTagTransform=m(),_.setAttributes=c(),_.insert=i().bind(null,"head"),_.domAPI=l(),_.insertStyleElement=E(),r()(C.Z,_);const g=C.Z&&C.Z.locals?C.Z.locals:void 0},8506:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var a=n(3379),r=n.n(a),s=n(7795),l=n.n(s),o=n(569),i=n.n(o),d=n(3565),c=n.n(d),u=n(9216),E=n.n(u),f=n(4589),m=n.n(f),C=n(7638),_={};_.styleTagTransform=m(),_.setAttributes=c(),_.insert=i().bind(null,"head"),_.domAPI=l(),_.insertStyleElement=E(),r()(C.Z,_);const g=C.Z&&C.Z.locals?C.Z.locals:void 0},8200:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var a=n(3379),r=n.n(a),s=n(7795),l=n.n(s),o=n(569),i=n.n(o),d=n(3565),c=n.n(d),u=n(9216),E=n.n(u),f=n(4589),m=n.n(f),C=n(2938),_={};_.styleTagTransform=m(),_.setAttributes=c(),_.insert=i().bind(null,"head"),_.domAPI=l(),_.insertStyleElement=E(),r()(C.Z,_);const g=C.Z&&C.Z.locals?C.Z.locals:void 0},4404:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var a=n(3379),r=n.n(a),s=n(7795),l=n.n(s),o=n(569),i=n.n(o),d=n(3565),c=n.n(d),u=n(9216),E=n.n(u),f=n(4589),m=n.n(f),C=n(7192),_={};_.styleTagTransform=m(),_.setAttributes=c(),_.insert=i().bind(null,"head"),_.domAPI=l(),_.insertStyleElement=E(),r()(C.Z,_);const g=C.Z&&C.Z.locals?C.Z.locals:void 0},3379:e=>{var t=[];function n(e){for(var n=-1,a=0;a<t.length;a++)if(t[a].identifier===e){n=a;break}return n}function a(e,a){for(var s={},l=[],o=0;o<e.length;o++){var i=e[o],d=a.base?i[0]+a.base:i[0],c=s[d]||0,u="".concat(d," ").concat(c);s[d]=c+1;var E=n(u),f={css:i[1],media:i[2],sourceMap:i[3],supports:i[4],layer:i[5]};if(-1!==E)t[E].references++,t[E].updater(f);else{var m=r(f,a);a.byIndex=o,t.splice(o,0,{identifier:u,updater:m,references:1})}l.push(u)}return l}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var s=a(e=e||[],r=r||{});return function(e){e=e||[];for(var l=0;l<s.length;l++){var o=n(s[l]);t[o].references--}for(var i=a(e,r),d=0;d<s.length;d++){var c=n(s[d]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}s=i}}},569:e=>{var t={};e.exports=function(e,n){var a=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}},9216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var a="";n.supports&&(a+="@supports (".concat(n.supports,") {")),n.media&&(a+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(a+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),a+=n.css,r&&(a+="}"),n.media&&(a+="}"),n.supports&&(a+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(a,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},6184:(e,t)=>{var n,a,r,s,l,o,i,d;Object.defineProperty(t,"__esModule",{value:!0}),t.LocalSt=t.SortFieldTypes=t.SortOrderTypes=t.ClassListMethods=t.TracksViewSettings=t.Methods=t.EngineStatus=t.ErrorStatusCode=void 0,function(e){e[e.NOT_FOUND=404]="NOT_FOUND",e[e.TOO_MANY_REQUEST=429]="TOO_MANY_REQUEST",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR"}(n||(t.ErrorStatusCode=n={})),function(e){e.Started="started",e.Stopped="stopped",e.Drive="drive"}(a||(t.EngineStatus=a={})),function(e){e.POST="POST",e.PUT="PUT",e.PATCH="PATCH",e.DELETE="DELETE"}(r||(t.Methods=r={})),function(e){e[e.TRACKS_ROWS=7]="TRACKS_ROWS",e[e.WINNERS_ROW=10]="WINNERS_ROW"}(s||(t.TracksViewSettings=s={})),function(e){e.ADD="add",e.REMOVE="remove"}(l||(t.ClassListMethods=l={})),function(e){e.SmallToLarge="ASC",e.LargeToSmall="DESC"}(o||(t.SortOrderTypes=o={})),function(e){e.ID="id",e.WIN="wins",e.TIME="time"}(i||(t.SortFieldTypes=i={})),function(e){e.CURRENT_PAGE_NAME="currentAppPage",e.LAST_SORT="last-sort-by",e.ORDER_BY="win-table-order-by",e.TRACKS_PAGE_NUMBER="currentPageNumber"}(d||(t.LocalSt=d={}))},6922:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const a=n(2737),r=n(1585),s=n(7307),l=n(8160),o=n(6184);t.default=class{constructor(){this.header=null}createView(){this.header=new a.default,document.body.append(this.header.getHtmlElement(),r.default.getHtmlElement())}setGamePage(){0===s.default.getField(o.LocalSt.CURRENT_PAGE_NAME).length&&!(o.LocalSt.CURRENT_PAGE_NAME in s.default)&&(s.default.setField(o.LocalSt.CURRENT_PAGE_NAME,l.appPages.INDEX),s.default.setField(o.LocalSt.TRACKS_PAGE_NUMBER,JSON.stringify(l.defaultPageNumber)),s.default.saveState()),r.default.rerenderMainPage()}runApplication(){this.createView(),this.setGamePage()}}},9873:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),n(5227);const a=n(1394),r=n(2284),s=n(2980),l=n(4226);class o extends a.default{constructor(e){super(r.carParams),this.color=e}setTextContent(e=""){this.element&&(this.element.innerHTML=e)}static updateCarInGarage(e){const{color:t,name:n,id:a}=e;if(t&&n&&a){const o=document.querySelector(`.${r.carParams.classNames}[data-id="${a}"] .car-svg`),i=document.querySelector(`.${s.trackCss.TOP_CAR_NAME}[data-id="${a}"]`);o&&i&&(o.style.color=t,i.textContent=n,l.default.updateCar(a,e))}}setCarColor(){if(this.element){const e=this.element.firstElementChild;return e instanceof SVGElement&&(e.style.color=`${this.color}`),this.element}}static startDriveAnimation(e,t){const n=document.querySelector(`.car[data-id="${t}"] .car-svg`),{velocity:a,distance:s}=e,l=(s/a/1e3).toFixed(2),o=window.innerWidth*r.SCREEN_WIDTH_RATIO-n.clientWidth;return n.style.transform=`translateX(${o}px)`,n.style.transition=`transform ${l}s linear`,{timeInSeconds:l,carID:t}}static showWinner(e){if(!o.animationInProgress){const t=document.querySelector(".main"),n=a.default.getElementParams("div",[`${r.winParams.textClass}`],""),s=new a.default(n).getElement();t.appendChild(s),l.default.getCarById(e).then((e=>{t.classList.add(`${r.winParams.class}`),s.textContent=`${r.winParams.text} ${e.name}`,document.addEventListener("click",(()=>s.remove()),{once:!0})})),o.winnerID=e,o.animationInProgress=!0}}static carIsDead(e){const t=document.querySelector(`.car[data-id="${e}"] .car-svg`);if(!t)return;const n=t.getBoundingClientRect().x;t instanceof SVGElement&&(t.style.transition="none",t.style.transform=`translateX(${n}px)`)}static returnCarOnBase(e){const t=document.querySelector(`.car[data-id="${e}"] .car-svg`);t.style.transform="translateX(0px)",t.style.transition="transform 0s linear"}}o.animationInProgress=!1,o.transitionEndHandlerMap={},t.default=o},2284:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.winParams=t.SCREEN_WIDTH_RATIO=t.getRandomColor=t.getRandomCarName=t.carModels=t.carBrands=t.carParams=void 0,t.SCREEN_WIDTH_RATIO=.95;t.winParams={class:"is-win",textClass:"win-text",text:"The winner is"};t.carParams={tag:"div",classNames:["car"],textContent:'\n  <svg class="car-svg" viewBox="0 0 1280 640">\n    <g transform="translate(0,640) scale(0.1,-0.1)" fill="currentColor" stroke="none">\n      <path d="M3565 5336 c-106 -30 -101 -26 -108 -111 -4 -42 -9 -80 -12 -85 -6 -10 -246 -105 -590 -234 -448 -167 -1052 -415 -1173 -483 -78 -43 -193 -91 -250 -104 -23 -5 -98 -14 -165 -19 -67 -6 -167 -19 -222 -30 -154 -31 -340 -49 -563 -57 l-203 -6 -43 -66 c-59 -91 -60 -95 -26 -130 37 -37 38 -65 3 -150 -25 -62 -27 -78 -31 -256 l-4 -190 -38 -32 c-91 -78 -133 -209 -134 -418 0 -194 11 -396 26 -482 13 -71 14 -74 72 -122 69 -58 130 -129 158 -184 64 -126 534 -211 1384 -250 l92 -4 -6 119 c-6 142 8 256 49 383 112 352 394 622 756 722 90 26 112 28 278 28 165 0 188 -2 278 -27 201 -56 361 -152 504 -302 140 -145 222 -293 274 -492 21 -79 24 -109 23 -279 -1 -127 -6 -214 -16 -263 l-15 -73 3006 7 c1653 4 3007 8 3009 9 1 1 -8 37 -20 81 -19 67 -22 105 -22 259 -1 166 1 187 27 279 117 421 467 736 885 797 119 17 325 7 432 -21 239 -63 453 -205 601 -399 70 -92 154 -267 185 -386 24 -88 27 -119 27 -260 1 -116 -4 -181 -16 -234 -10 -41 -16 -75 -15 -76 2 -1 62 2 133 6 266 16 458 45 525 79 48 24 97 81 127 146 l24 52 -16 157 c-15 152 -15 163 4 284 63 388 50 680 -35 802 -134 193 -526 336 -1429 519 -737 149 -1322 209 -2033 210 -228 0 -226 0 -347 85 -187 131 -1045 607 -1471 815 -383 187 -788 281 -1439 332 -208 17 -1106 16 -1400 0 -121 -7 -314 -19 -430 -27 -302 -22 -286 -22 -341 10 -140 81 -187 94 -269 71z m1885 -333 c6 -37 38 -238 71 -446 32 -209 66 -422 75 -474 9 -52 15 -96 13 -97 -11 -9 -1699 29 -1951 44 -206 13 -417 36 -485 54 -98 26 -198 119 -249 231 -35 75 -36 172 -5 255 17 45 30 61 68 86 83 54 135 80 253 127 341 136 858 230 1460 267 269 16 270 16 511 18 l227 2 12 -67z m630 47 c264 -18 777 -110 1029 -186 186 -56 445 -188 756 -387 211 -134 274 -181 250 -185 -75 -12 -133 -50 -162 -106 -19 -35 -21 -136 -4 -179 l11 -27 -907 2 -906 3 -59 160 c-110 302 -298 878 -298 916 0 6 95 2 290 -11z"/>\n      <path d="M2633 3125 c-223 -40 -410 -141 -568 -306 -132 -138 -213 -283 -262 -467 -22 -83 -26 -119 -26 -247 -1 -169 10 -236 65 -382 87 -230 271 -436 493 -551 85 -44 178 -78 271 -98 107 -23 312 -23 419 1 392 84 699 375 802 761 23 86 26 120 27 254 1 158 -5 199 -46 330 -98 310 -355 567 -668 669 -150 50 -354 64 -507 36z m350 -301 c249 -56 457 -247 543 -499 25 -72 28 -95 28 -220 1 -153 -15 -228 -74 -345 -94 -186 -283 -337 -485 -386 -96 -24 -268 -24 -360 0 -320 84 -544 355 -562 681 -20 359 209 673 558 765 94 24 253 26 352 4z"/>\n      <path d="M2600 2697 c-36 -13 -85 -36 -109 -51 l-44 -28 116 -115 c81 -82 120 -114 131 -110 14 6 16 29 16 167 0 186 6 178 -110 137z"/>\n      <path d="M2920 2561 c0 -139 2 -162 16 -168 11 -4 50 28 130 108 l115 114 -28 22 c-34 28 -138 70 -193 79 l-40 7 0 -162z"/>\n      <path d="M2282 2448 c-28 -36 -92 -191 -92 -225 0 -10 34 -13 165 -13 151 0 165 1 165 18 0 15 -206 232 -221 232 -4 0 -11 -6 -17 -12z"/>\n      <path d="M3222 2351 c-62 -59 -112 -115 -112 -124 0 -15 17 -17 165 -17 131 0 165 3 165 13 0 40 -69 205 -95 227 -7 6 -48 -27 -123 -99z"/>\n      <path d="M2781 2332 c-12 -22 11 -62 34 -62 8 0 21 10 29 22 20 28 4 58 -29 58 -13 0 -29 -8 -34 -18z"/>\n      <path d="M2749 2161 c-32 -33 -37 -67 -14 -110 29 -57 104 -64 151 -14 53 57 9 153 -71 153 -27 0 -44 -8 -66 -29z"/>\n      <path d="M2570 2125 c-26 -32 13 -81 48 -59 24 16 27 45 6 61 -23 17 -39 16 -54 -2z"/>\n      <path d="M3006 2124 c-20 -19 -20 -38 -2 -54 23 -19 61 -8 64 18 7 44 -32 67 -62 36z"/>\n      <path d="M2190 1975 c0 -29 41 -140 72 -194 l31 -53 117 117 c71 71 116 123 113 131 -4 11 -40 14 -169 14 -141 0 -164 -2 -164 -15z"/>\n      <path d="M3110 1972 c0 -9 51 -68 114 -131 l114 -114 31 54 c30 51 71 165 71 195 0 11 -31 14 -165 14 -151 0 -165 -1 -165 -18z"/>\n      <path d="M2780 1901 c-7 -15 -5 -24 8 -41 32 -40 85 -4 62 41 -14 25 -56 25 -70 0z"/>\n      <path d="M2562 1697 c-61 -62 -112 -115 -112 -119 0 -18 208 -108 249 -108 7 0 11 54 11 164 0 140 -2 165 -16 170 -9 3 -16 6 -17 6 -1 0 -53 -51 -115 -113z"/>\n      <path d="M2933 1803 c-15 -6 -19 -333 -4 -333 46 0 251 88 251 108 0 9 -223 232 -230 231 -3 0 -11 -3 -17 -6z"/>\n      <path d="M10700 3119 c-390 -84 -696 -376 -797 -759 -31 -117 -41 -292 -24 -411 33 -227 150 -453 318 -609 267 -250 643 -344 993 -249 117 32 283 118 380 196 487 396 518 1128 67 1560 -97 93 -166 140 -290 198 -137 64 -235 86 -407 91 -120 3 -162 0 -240 -17z m445 -313 c238 -81 409 -258 486 -506 30 -96 33 -289 5 -388 -110 -400 -513 -637 -911 -536 -149 38 -313 147 -402 267 -176 238 -203 533 -71 797 34 69 60 103 138 180 77 78 111 104 181 139 129 65 207 81 364 77 109 -3 143 -7 210 -30z"/>\n      <path d="M10703 2700 c-54 -19 -153 -71 -153 -80 0 -3 51 -57 114 -119 80 -80 119 -112 130 -108 14 5 16 29 16 167 l0 160 -27 -1 c-16 0 -52 -9 -80 -19z"/>\n      <path d="M11020 2561 c0 -139 2 -162 16 -168 22 -8 247 216 234 232 -17 20 -163 84 -207 91 l-43 7 0 -162z"/>\n      <path d="M10366 2424 c-29 -44 -76 -165 -76 -194 0 -19 7 -20 165 -20 126 0 165 3 165 13 0 7 -51 63 -114 126 l-114 114 -26 -39z"/>\n      <path d="M11313 2348 c-61 -62 -109 -119 -106 -125 6 -15 333 -19 333 -4 0 45 -88 241 -108 241 -4 0 -57 -51 -119 -112z"/>\n      <path d="M10882 2338 c-17 -17 -15 -32 7 -52 16 -14 23 -15 41 -6 31 17 24 64 -10 68 -14 2 -31 -3 -38 -10z"/>\n      <path d="M10846 2159 c-68 -81 17 -194 110 -144 89 48 56 175 -46 175 -30 0 -44 -6 -64 -31z"/>\n      <path d="M10670 2126 c-19 -23 -8 -61 18 -64 44 -7 67 32 36 62 -19 20 -38 20 -54 2z"/>\n      <path d="M11106 2127 c-21 -16 -18 -45 7 -61 37 -23 77 35 41 61 -10 7 -21 13 -24 13 -3 0 -14 -6 -24 -13z"/>\n      <path d="M10290 1970 c0 -29 43 -141 74 -195 l28 -48 116 116 c81 81 113 120 109 131 -6 14 -29 16 -167 16 -152 0 -160 -1 -160 -20z"/>\n      <path d="M11207 1978 c-3 -7 47 -66 111 -130 l116 -118 27 43 c27 44 79 177 79 203 0 12 -28 14 -164 14 -122 0 -166 -3 -169 -12z"/>\n      <path d="M10881 1901 c-14 -25 -5 -48 20 -56 27 -9 51 13 47 44 -4 34 -51 43 -67 12z"/>\n      <path d="M10662 1697 c-61 -62 -112 -115 -112 -119 0 -20 201 -108 247 -108 10 0 13 34 13 164 0 140 -2 165 -16 170 -9 3 -16 6 -17 6 -1 0 -53 -51 -115 -113z"/>\n      <path d="M11033 1803 c-10 -3 -13 -47 -13 -169 0 -90 4 -164 8 -164 36 0 186 61 239 98 16 10 -216 242 -234 235z"/>\n    </g>\n  </svg>\n  '};const n=["Audi","BMW","Chevrolet","Dodge","Ferrari","Ford","Honda","Hyundai","Jaguar","Jeep","Kia","Lamborghini","Land Rover","Lexus","Maserati","Mazda","Mercedes-Benz","Mini","Mitsubishi","Nissan","Porsche","Subaru","Tesla","Toyota","Volkswagen","Volvo","Alfa Romeo","Aston Martin","Bentley","Bugatti","Cadillac","Chrysler","Citroen","Fiat","GMC","Infiniti","Isuzu","Koenigsegg","Lada","Lancia","Lincoln","Lotus","McLaren","Pagani","Peugeot","Renault","Rolls-Royce","Saab","Seat","Skoda"];t.carBrands=n;const a=["Sedan","SUV","Hatchback","Coupe","Convertible","Crossover","Minivan","Pickup Truck","Sports Car","Electric","Luxury","Compact","Off-road","Wagon","Hybrid","Muscle Car","Roadster","Supercar","Microcar","Station Wagon","Compact SUV","Mid-size SUV","Full-size SUV","Subcompact","Sports Coupe","Estate Car","Hot Hatch","Supermini","MPV","Van","4x4","City Car","Family Car","Executive Car","Performance Car","Economy Car","Limousine","Race Car","Concept Car","RV","Truck","Motorcycle","Tractor","Bus","Ambulance","Police Car","Fire Truck","Taxi","Delivery Van","Ice Cream Truck"];t.carModels=a,t.getRandomCarName=function(){return`${n[Math.floor(Math.random()*n.length)]} ${a[Math.floor(Math.random()*a.length)]}`},t.getRandomColor=function(){let e="#";for(let t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}},6074:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),n(211);const a=n(7307),r=n(1394),s=n(9173),l=n(5968);class o extends r.default{constructor(){super(s.consoleParams)}configureView(){var e;const t=r.default.getElementParams("div",s.consoleContainerCss,""),n=new r.default(t).getElement(),a=this.getNewCarForm(),l=this.getUpdateCarForm(),o=this.getControlButtons();return n.append(a,l,o),null===(e=this.element)||void 0===e||e.appendChild(n),this.element}getNewCarForm(){const e=this.loadValueFromState().currentCreateInput,t=this.loadValueFromState().currentColorCreateInput,n=this.createForm(),a=this.createNewNameInput(),o=this.createColorInput(),i=r.default.getElementParams("button",s.createCarFormCss.BTN,s.consoleBtnTexts.createBtn),d=new r.default(i).getElement();return n.classList.add(...s.createCarFormCss.FORM),a.classList.add(...s.createCarFormCss.INPUT),o.classList.add(...s.createCarFormCss.COLOR),d.type="submit",e&&(a.value=e),t&&(o.value=t),a.addEventListener("input",this.saveValueInState),o.addEventListener("input",this.saveValueInState),n.addEventListener("submit",(e=>l.default.createBtnInGarage(e,a,o))),n.append(a,o,d),n}getUpdateCarForm(){const e=this.loadValueFromState().currentUpdateInput,t=this.loadValueFromState().currentColorUpdateInput,n=this.createForm(),a=this.createNewNameInput(),o=this.createColorInput(),i=r.default.getElementParams("button",s.updateCarFormCss.BTN,s.consoleBtnTexts.updateBtn),d=new r.default(i).getElement();return n.classList.add(...s.updateCarFormCss.FORM),a.classList.add(...s.updateCarFormCss.INPUT),o.classList.add(...s.updateCarFormCss.COLOR),d.type="submit",e&&(a.value=e),t&&(o.value=t),o.addEventListener("input",this.saveValueInState),a.addEventListener("input",(e=>this.saveValueInState(e))),n.addEventListener("submit",(e=>l.default.updateBtnInGarage(e,a,o))),n.append(a,o,d),n}createForm(){const e=r.default.getElementParams("form",s.defaultFormCss.FORM,"");return new r.default(e).getElement()}createNewNameInput(){const e=r.default.getElementParams("input",s.defaultFormCss.SET_NAME,""),t=new r.default(e).getElement();return t.required=!0,t}createColorInput(){const e=r.default.getElementParams("input",s.defaultFormCss.COLOR,""),t=new r.default(e).getElement();return t.type="color",t}getControlButtons(){const e=r.default.getElementParams("div",s.controlButtonsCss.CONTAINER,""),t=r.default.getElementParams("button",s.controlButtonsCss.RACE,s.consoleBtnTexts.race),n=r.default.getElementParams("button",s.controlButtonsCss.RESET,s.consoleBtnTexts.reset),a=r.default.getElementParams("button",s.controlButtonsCss.GENERATE_CARS,s.consoleBtnTexts.generateCars),o=new r.default(e).getElement(),i=new r.default(t).getElement(),d=new r.default(n).getElement(),c=new r.default(a).getElement();return i.addEventListener("click",l.default.raceAllCarsOnCurrentPage),d.addEventListener("click",l.default.returnAllCarsToBase),c.addEventListener("click",l.default.generateCarsBtn),o.append(i,d,c),o}saveValueInState(e){const t=null==e?void 0:e.target,{value:n}=t;t&&t.classList.contains(`${s.createCarFormCss.INPUT}`)?(a.default.setField(s.StateNames.NAME_IN_CREATE_INPUT,n),a.default.saveState()):t&&t.classList.contains(`${s.updateCarFormCss.INPUT}`)?(a.default.setField(s.StateNames.NAME_IN_UPDATE_INPUT,n),a.default.saveState()):t&&t.classList.contains(`${s.createCarFormCss.COLOR}`)?(a.default.setField(s.StateNames.COLOR_IN_CREATE_INPUT,n),a.default.saveState()):t&&t.classList.contains(`${s.updateCarFormCss.COLOR}`)&&(a.default.setField(s.StateNames.COLOR_IN_UPDATE_INPUT,n),a.default.saveState())}loadValueFromState(){return{currentCreateInput:a.default.getField(s.StateNames.NAME_IN_CREATE_INPUT),currentColorCreateInput:a.default.getField(s.StateNames.COLOR_IN_CREATE_INPUT),currentUpdateInput:a.default.getField(s.StateNames.NAME_IN_UPDATE_INPUT),currentColorUpdateInput:a.default.getField(s.StateNames.COLOR_IN_UPDATE_INPUT)}}static setDefaultFormValues(e,t){e.value="",t.value=s.defaultColorInputValue,e&&e.classList.contains(`${s.createCarFormCss.INPUT}`)?(a.default.setField(s.StateNames.NAME_IN_CREATE_INPUT,e.value),a.default.saveState()):e&&e.classList.contains(`${s.updateCarFormCss.INPUT}`)&&(a.default.setField(s.StateNames.NAME_IN_UPDATE_INPUT,e.value),a.default.saveState()),t&&t.classList.contains(`${s.createCarFormCss.COLOR}`)?(a.default.setField(s.StateNames.COLOR_IN_CREATE_INPUT,t.value),a.default.saveState()):t&&t.classList.contains(`${s.updateCarFormCss.COLOR}`)&&(a.default.setField(s.StateNames.COLOR_IN_UPDATE_INPUT,t.value),a.default.saveState())}static toggleDisableStateUpdateForm(e){const t=document.querySelector(`.${s.defaultFormCss.FORM}.${s.updateCarFormCss.FORM}`);null==t||t.classList.toggle(`${s.DISABLED_CLASS}`,!e)}static toggleRaceAndResetBtns(e){const{target:t}=e,n=document.querySelector(`.${s.controlButtonsCss.RACE}`),a=document.querySelector(`.${s.controlButtonsCss.RESET}`);t===n?(null==n||n.classList.add(`${s.DISABLED_CLASS}`),null==a||a.classList.remove(`${s.DISABLED_CLASS}`)):t!==a||(null==a?void 0:a.classList.contains(`${s.DISABLED_CLASS}`))||(setTimeout((()=>{null==n||n.classList.remove(`${s.DISABLED_CLASS}`)}),2500),null==a||a.classList.add(`${s.DISABLED_CLASS}`))}}t.default=o},9173:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DISABLED_CLASS=t.defaultColorInputValue=t.StateNames=t.consoleContainerCss=t.controlButtonsCss=t.updateCarFormCss=t.defaultFormCss=t.consoleBtnTexts=t.createCarFormCss=t.consoleParams=void 0,t.defaultColorInputValue="#000000",t.consoleParams={tag:"div",classNames:["console"],textContent:""},t.DISABLED_CLASS="disabled",t.consoleContainerCss=["console__container"],t.defaultFormCss={FORM:["form"],COLOR:["form__set-color"],SET_NAME:["form__set-name"]},t.createCarFormCss={FORM:["create-car"],INPUT:["create-car__set-name"],COLOR:["create-car__set-color"],BTN:["create-car__create-btn"]},t.updateCarFormCss={FORM:["update-car","disabled"],INPUT:["update-car__set-name"],COLOR:["update-car__set-color"],BTN:["update-car__update-btn"]},t.controlButtonsCss={CONTAINER:["console__control-btns","control-btns"],RACE:["control-btns__race"],RESET:["control-btns__reset","disabled"],GENERATE_CARS:["control-btns__generate-cars"]},t.consoleBtnTexts={createBtn:"CREATE",updateBtn:"UPDATE",race:"RACE",reset:"RESET",generateCars:"GENERATE CARS"},t.StateNames={NAME_IN_CREATE_INPUT:"name-in-create-input",COLOR_IN_CREATE_INPUT:"color-in-create-input",NAME_IN_UPDATE_INPUT:"name-in-update-input",COLOR_IN_UPDATE_INPUT:"color-in-update-input"}},1394:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e){this.element=null,e&&this.createElement(e)}getElement(){return this.element}static getElementParams(e,t,n,a){return{tag:e,classNames:[...t],textContent:n,callback:a}}addInnerElement(e){if(this.element instanceof HTMLElement)if(e instanceof n){const t=e.getElement();t instanceof HTMLElement&&this.element.append(t)}else("string"==typeof e||e instanceof Node)&&this.element.append(e)}createElement(e){if(e){const t=e.tag||"div";this.element=document.createElement(t),this.setCssClasses(e.classNames),this.setTextContent(e.textContent),e.callback&&this.setCallback(e.callback)}}setCssClasses(e=[]){e.forEach((e=>{var t;return null===(t=this.element)||void 0===t?void 0:t.classList.add(e)}))}setTextContent(e=""){this.element&&(this.element.textContent=e)}setCallback(e){var t;"function"==typeof e&&(null===(t=this.element)||void 0===t||t.addEventListener("click",(t=>e(t))))}}t.default=n},2888:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,s){function l(e){try{i(a.next(e))}catch(e){s(e)}}function o(e){try{i(a.throw(e))}catch(e){s(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}i((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),n(7609);const r=n(7307),s=n(1394),l=n(5707),o=n(9845),i=n(5968),d=n(4226),c=n(6184),u=n(8160);class E extends s.default{constructor(){super(s.default.getElementParams("h1",l.pageNumberCss.PAGE_TITLE,""))}setPageNumber(){const e=r.default.getCurrentPageNumber();this.element&&(this.element.innerHTML=`${l.pageNumberText.TITLE}${e}`)}getPageNavigationButtons(){const e=r.default.getCurrentPageNumber(),t=s.default.getElementParams("div",l.pageNumberCss.BTNS_CONTAINER,""),n=s.default.getElementParams("button",[...l.pageNumberCss.PREVIOUS_BTN],l.pageNumberText.PREV_BTN),a=s.default.getElementParams("button",l.pageNumberCss.NEXT_BTN,l.pageNumberText.NEXT_BTN),o=new s.default(t).getElement(),E=new s.default(n).getElement(),f=new s.default(a).getElement();return e===l.FIRST_PAGE&&(E.classList.add(...l.pageNumberCss.BTN_DISABLED),(r.default.getField(c.LocalSt.CURRENT_PAGE_NAME)===u.appPages.INDEX?d.default.getCars():d.default.getWinners()).then((e=>{1===(0,u.returnMaximumAvailablePages)(e)&&f.classList.add(...l.pageNumberCss.BTN_DISABLED)}))),e!==l.FIRST_PAGE&&d.default.getCars().then((t=>{const n=(0,u.returnMaximumAvailablePages)(t);e===n&&f.classList.add(...l.pageNumberCss.BTN_DISABLED)})),o.addEventListener("click",(e=>i.default.changePageBtns(e,E,f))),o.append(E,f),o}changePage(e,t,n){return a(this,void 0,void 0,(function*(){let a=r.default.getCurrentPageNumber();const s=e===t,o=s?n:t,i=r.default.getField(c.LocalSt.CURRENT_PAGE_NAME),E=i===u.appPages.INDEX?u.appPages.INDEX:u.appPages.WINNER;if(s&&a===l.FIRST_PAGE)return;const f=E===u.appPages.INDEX?yield d.default.getCars():yield d.default.getWinners(),m=(0,u.returnMaximumAvailablePages)(f);if(a!==l.FIRST_PAGE||1===m||s){if(a-1===l.FIRST_PAGE&&s)this.toggleButtonDisabledClass(e,!0),this.toggleButtonDisabledClass(o,!1);else if(a===l.FIRST_PAGE&&1===m&&!s)return}else this.toggleButtonDisabledClass(o,!1);if(a+1!==m||s||(this.toggleButtonDisabledClass(e,!0),this.toggleButtonDisabledClass(o,!1)),a===m&&s&&this.toggleButtonDisabledClass(o,!1),a+=s?-1:1,this.updateTotalCounter(!s),i===u.appPages.INDEX){const e=JSON.parse(r.default.getField(c.LocalSt.TRACKS_PAGE_NUMBER)).WINNER;r.default.setField(c.LocalSt.TRACKS_PAGE_NUMBER,JSON.stringify({INDEX:a,WINNER:e}))}else if(i===u.appPages.WINNER){const e=JSON.parse(r.default.getField(c.LocalSt.TRACKS_PAGE_NUMBER)).INDEX;r.default.setField(c.LocalSt.TRACKS_PAGE_NUMBER,JSON.stringify({INDEX:e,WINNER:a}))}r.default.saveState()}))}toggleButtonDisabledClass(e,t){const n=t?c.ClassListMethods.ADD:c.ClassListMethods.REMOVE;e.classList[n](...l.pageNumberCss.BTN_DISABLED)}updateTotalCounter(e){var t,n,a;let r=parseInt(null!==(a=null===(n=null===(t=this.element)||void 0===t?void 0:t.textContent)||void 0===n?void 0:n.replace(/\D/g,""))&&void 0!==a?a:"0",o.DECIMAL_SYSTEM);e?r+=1:r-=1,this.element&&(this.element.innerHTML=`${l.pageNumberText.TITLE}${r}`)}removeDisableStateFromNextPageBtn(){const e=document.querySelector(`.${l.pageNumberCss.NEXT_BTN}`);null==e||e.classList.remove("disabled")}disableStateToNextPageBtn(){const e=r.default.getField(c.LocalSt.CURRENT_PAGE_NAME)===u.appPages.INDEX?d.default.getCars():d.default.getWinners(),t=document.querySelector(`.${l.pageNumberCss.NEXT_BTN}`);e.then((e=>{const n=(0,u.returnMaximumAvailablePages)(e),a=r.default.getCurrentPageNumber();a===l.FIRST_PAGE&&a===n&&(null==t||t.classList.add(...l.pageNumberCss.BTN_DISABLED))}))}usePrevBtn(){const e=document.querySelector(`.${l.pageNumberCss.PREVIOUS_BTN}`);e instanceof HTMLButtonElement&&(e.click(),this.disableStateToNextPageBtn())}}const f=new E;t.default=f},5707:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FIRST_PAGE=t.SECOND_PAGE=t.pageNumberText=t.pageNumberCss=void 0,t.pageNumberCss={PAGE_TITLE:["page-number"],BTNS_CONTAINER:["page-btns"],PREVIOUS_BTN:["page-btns__previous-btn"],NEXT_BTN:["page-btns__next-btn"],BTN_DISABLED:["disabled"]},t.pageNumberText={TITLE:"Page #",PREV_BTN:"PREV",NEXT_BTN:"NEXT"},t.FIRST_PAGE=1,t.SECOND_PAGE=2},7554:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,s){function l(e){try{i(a.next(e))}catch(e){s(e)}}function o(e){try{i(a.throw(e))}catch(e){s(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}i((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(8160),s=n(1394),l=n(7307),o=n(9845),i=n(4226);class d extends s.default{constructor(){super(o.defaultTitleParams)}setPageTitle(){const e=l.default.loadState().get("currentAppPage");return this.element&&(e===r.appPages.INDEX?this.element.innerHTML=`${o.garagePageTitle} ()`:e===r.appPages.WINNER&&(this.element.innerHTML=`${o.winnerPageTitle} ()`)),this.element}setCurrentCarsNumber(){var e,t;return a(this,void 0,void 0,(function*(){const n=l.default.loadState().get("currentAppPage"),a=/(\()/;if(this.element)if(n===r.appPages.INDEX){const t=(yield i.default.getCars()).length,n=null===(e=this.element)||void 0===e?void 0:e.innerHTML.replace(a,`$1${t}`);this.element.textContent=n}else if(n===r.appPages.WINNER){const e=(yield i.default.getWinners()).length,n=null===(t=this.element)||void 0===t?void 0:t.innerHTML.replace(a,`$1${e}`);this.element.textContent=n}}))}updateTotalCounter(e){var t,n,a;const s=l.default.loadState().get("currentAppPage");let i=parseInt(null!==(a=null===(n=null===(t=this.element)||void 0===t?void 0:t.textContent)||void 0===n?void 0:n.replace(/\D/g,""))&&void 0!==a?a:"0",o.DECIMAL_SYSTEM);if(i+=e?1:-1,void 0!==s&&this.element){const e={[r.appPages.INDEX]:`${o.garagePageTitle} (${i})`,[r.appPages.WINNER]:`${o.winnerPageTitle} (${i})`};this.element.innerHTML=e[s]}}}const c=new d;t.default=c},9845:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DECIMAL_SYSTEM=t.defaultPageValue=t.defaultTitleParams=t.winnerPageTitle=t.garagePageTitle=t.pageTitleCss=void 0,t.DECIMAL_SYSTEM=10;const n=["page-title"];t.pageTitleCss=n;const a={tag:"h1",classNames:n,textContent:""};t.defaultTitleParams=a,t.defaultPageValue="1",t.garagePageTitle="Garage",t.winnerPageTitle="Winners"},5344:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,s){function l(e){try{i(a.next(e))}catch(e){s(e)}}function o(e){try{i(a.throw(e))}catch(e){s(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}i((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),n(9205);const r=n(6184),s=n(5968),l=n(4226),o=n(6793),i=n(9873),d=n(1394),c=n(2980),u=n(7307),E=n(9173);class f extends d.default{constructor(e,t){super(c.defaultTrackParams),this.name=e,this.color=t}configureView(e){var t;const n=d.default.getElementParams("div",c.trackCss.TRACK_CONTAINER,"");this.element&&this.element instanceof HTMLElement&&(this.element.dataset.id=String(e));const a=new d.default(n).getElement(),r=new i.default(this.color).setCarColor();r.dataset.id=String(e);const s=this.createCurrentCarControllers(e,r);return a.append(s,r),null===(t=this.element)||void 0===t||t.appendChild(a),this.element}createCurrentCarControllers(e,t){const n=d.default.getElementParams("div",c.trackCss.CONTROLLERS_CONTAINER,""),a=d.default.getElementParams("div",c.trackCss.TOP_CONTROLLERS_CONTAINER,""),r=d.default.getElementParams("button",c.trackCss.TOP_SELECT_BTN,c.btnsText.SELECT),l=d.default.getElementParams("button",c.trackCss.TOP_REMOVE_BTN,c.btnsText.REMOVE),o=d.default.getElementParams("h4",c.trackCss.TOP_CAR_NAME,""),i=d.default.getElementParams("div",c.trackCss.MIDDLE_CONTROLLERS_CONTAINER,""),u=d.default.getElementParams("button",c.trackCss.MID_START_RACE_BTN,c.btnsText.START_RACE),E=d.default.getElementParams("button",c.trackCss.MID_STOP_RACE_BTN,c.btnsText.STOP_RACE),f=new d.default(n).getElement(),m=new d.default(a).getElement(),C=new d.default(r).getElement();C.dataset.id=String(e);const _=new d.default(l).getElement(),g=new d.default(o).getElement();g.dataset.id=String(e);const N=new d.default(i).getElement(),T=new d.default(u).getElement(),p=new d.default(E).getElement();return T.dataset.id=String(e),N.addEventListener("click",(t=>s.default.driveOrStopSingleCar(t,T,p,e))),C.addEventListener("click",(()=>this.handleSelectBtnClick(C,t))),_.addEventListener("click",(()=>s.default.deleteCarBtn(e))),this.name&&(g.textContent=this.name),m.append(C,_,g),N.append(T,p),f.append(m,N),f}static addAllTracksOnPage(e,t){return a(this,void 0,void 0,(function*(){if(t){const n=yield l.default.getCars(t);for(let t=0;t<n.length;t++){const a=n[t].id,r=new f(n[t].name,n[t].color).configureView(Number(a));e.appendChild(r)}}}))}static addNewTrackInTracks(e){const t=document.querySelector(`.${o.indexCss.TRACKS_CONTAINER}`),n=new f(e.name,e.color).configureView(Number(e.id));t.children.length<r.TracksViewSettings.TRACKS_ROWS&&t.appendChild(n)}handleSelectBtnClick(e,t){var n;const a=null!==(n=f.toggleActiveState(e))&&void 0!==n?n:void 0;s.default.selectCarBtn(null,t,a)}static toggleActiveState(e){const t=Array.from(document.querySelectorAll(`.${c.trackCss.TOP_SELECT_BTN}`)),n=e.classList.contains(`${c.IS_ACTIVE}`);return t.forEach((t=>{t===e?n?t.classList.remove(`${c.IS_ACTIVE}`):t.classList.add(`${c.IS_ACTIVE}`):t.classList.remove(`${c.IS_ACTIVE}`)})),!n}static usedDeleteBtn(){return confirm(c.CONFIRM_DELETE_TEXT)}static deleteTrackByID(e){const t=Array.from(document.querySelectorAll(`.${[...c.defaultTrackParams.classNames]}`)).find((t=>t.dataset.id===String(e)));null==t||t.remove()}static getAndAddNextTrack(){return a(this,void 0,void 0,(function*(){const e=document.querySelector(`.${o.indexCss.TRACKS_CONTAINER}`),t=null==e?void 0:e.children.length;if(void 0!==t&&t<r.TracksViewSettings.TRACKS_ROWS){const n=null==e?void 0:e.children[t-1],a=Number(n.dataset.id),s=yield l.default.getCars().then((e=>{const t=e.findIndex((e=>e.id===a));if(-1!==t&&t+1<e.length){const n=e[t+1];return null==n?void 0:n.id}return null}));if(s){const e=r.TracksViewSettings.TRACKS_ROWS-t,n=Array.from({length:e},((e,t)=>l.default.getCarById(s+t).catch((()=>{}))));(yield Promise.allSettled(n)).forEach((e=>{"fulfilled"===e.status&&e.value&&f.addNewTrackInTracks(e.value)}))}}}))}static isRaceStart(e,t,n){const{target:a}=e,r=a===t?t:n,s=r===t?n:t;let l=r.classList.contains(`${c.IS_ACTIVE}`);if(a!==t||!l){if(a===n&&l)r.classList.remove(`${c.IS_ACTIVE}`),s.classList.remove(`${c.IS_ACTIVE}`),l=!1;else{if(a!==t)return;r.classList.add(`${c.IS_ACTIVE}`),s.classList.add(`${c.IS_ACTIVE}`),l=!0}return l}}static clickAllStartBtns(){Array.from(document.querySelectorAll(`.${c.trackCss.MID_START_RACE_BTN}`)).forEach((e=>{const t=Number(e.dataset.id);e.click();const n=document.querySelector(`.car[data-id="${t}"] .car-svg`),a=()=>{s.default.winner(t),n.removeEventListener("transitionend",a)};n.addEventListener("transitionend",a)}))}static clickAllStopBtns(){Array.from(document.querySelectorAll(`.${c.trackCss.MID_STOP_RACE_BTN}`)).forEach((e=>e.click()))}static rerenderCarsTrack(){const e=document.querySelector(".tracks-container"),t={page:u.default.getCurrentPageNumber(),limit:r.TracksViewSettings.TRACKS_ROWS};e.innerHTML="",f.addAllTracksOnPage(e,t)}static returnTrackChildrenLength(){const e=document.querySelector(".tracks-container");if(e)return e.children.length}static returnActiveBtnAndCarID(){const e=Array.from(document.querySelectorAll(`.${c.trackCss.TOP_SELECT_BTN}`)).find((e=>e.classList.contains("is-active")));return{ACTIVE_BTN:e,CAR_ID:Number(e.getAttribute("data-id"))}}static toggleRaceAndResetBtns(){const e=document.querySelectorAll(`.${c.trackCss.MID_START_RACE_BTN}`),t=document.querySelector(`.${E.controlButtonsCss.RACE}`),n=document.querySelector(`.${E.controlButtonsCss.RESET}`),a=Array.from(e).some((e=>e.classList.contains("is-active")));null==t||t.classList.toggle(E.DISABLED_CLASS,a),null==n||n.classList.toggle(E.DISABLED_CLASS,!a)}}t.default=f},2980:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CONFIRM_DELETE_TEXT=t.IS_ACTIVE=t.btnsText=t.trackCss=t.defaultTrackParams=void 0,t.CONFIRM_DELETE_TEXT="are you sure that you want delete this beautiful car from your garage?",t.IS_ACTIVE="is-active",t.defaultTrackParams={tag:"div",classNames:["track"],textContent:""},t.trackCss={TRACK_CONTAINER:["track__container"],CONTROLLERS_CONTAINER:["controllers__container"],TOP_CONTROLLERS_CONTAINER:["top-controllers-container","top-controllers"],TOP_SELECT_BTN:["top-controllers__select-btn"],TOP_REMOVE_BTN:["top-controllers__remove-btn"],TOP_CAR_NAME:["top-controllers__car-name"],MIDDLE_CONTROLLERS_CONTAINER:["middle-controllers-container","middle-controllers"],MID_START_RACE_BTN:["middle-controllers__start-race"],MID_STOP_RACE_BTN:["middle-controllers__stop-race"]},t.btnsText={SELECT:"SELECT",REMOVE:"REMOVE",START_RACE:"A",STOP_RACE:"B"}},3616:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.headerCellsClasses=t.COLUMN_NUMBER=t.WINNERS_LIMIT=t.COLUMNS_IN_TABLE=t.HEADER_NAMES=t.winTableCss=t.defaultTableParams=void 0,t.defaultTableParams={tag:"div",classNames:["winner-table"],textContent:""},t.headerCellsClasses={WINS:"cell-wins",BEST_TIME:"cell-best-time"},t.winTableCss={HEADER:["winner-table__header"],RAW:["winner-table__raw"],CELL:["winner-table__cell"]},t.HEADER_NAMES=["Number","Car","Name","Wins","Best time (seconds)"],t.COLUMNS_IN_TABLE=5,t.WINNERS_LIMIT=10,t.COLUMN_NUMBER={FIRST:0,SECOND:1,THIRD:2,FOURTH:3,FIFTH:4}},3990:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,s){function l(e){try{i(a.next(e))}catch(e){s(e)}}function o(e){try{i(a.throw(e))}catch(e){s(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}i((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),n(5115);const r=n(1394),s=n(3616),l=n(4226),o=n(7307),i=n(2284),d=n(6184),c=n(5968);class u extends r.default{constructor(){super(s.defaultTableParams)}configureView(){var e;const t=u.createRowElement(s.winTableCss.HEADER);for(let e=0;e<s.COLUMNS_IN_TABLE;e++){const n=u.createCellElement(s.winTableCss.CELL);n.textContent=s.HEADER_NAMES[e],e===s.COLUMN_NUMBER.FOURTH?n.classList.add(s.headerCellsClasses.WINS):e===s.COLUMN_NUMBER.FIFTH&&n.classList.add(s.headerCellsClasses.BEST_TIME),t.appendChild(n)}return t.addEventListener("click",(e=>c.default.filterTableData(e))),null===(e=this.element)||void 0===e||e.appendChild(t),this.element}static createRowElement(e){const t=r.default.getElementParams("div",e,"");return new r.default(t).getElement()}static createCellElement(e){const t=r.default.getElementParams("div",e,"");return new r.default(t).getElement()}static fillWinnersInTable(e){return a(this,void 0,void 0,(function*(){const t=e.firstElementChild;for(;t&&t.nextElementSibling;)e.removeChild(t.nextElementSibling);const n=o.default.getCurrentPageNumber(),a=o.default.getField(d.LocalSt.LAST_SORT),r=o.default.getField(d.LocalSt.ORDER_BY),c={page:n,limit:s.WINNERS_LIMIT,sort:a,order:r},E=yield l.default.getWinners(c);for(let t=0;t<E.length;t++){const n=u.createRowElement(s.winTableCss.RAW);e.appendChild(n);for(let e=0;e<s.COLUMNS_IN_TABLE;e++){const a=u.createRowElement(s.winTableCss.CELL);n.appendChild(a),e===s.COLUMN_NUMBER.FIRST?a.textContent=String(t+1):e===s.COLUMN_NUMBER.SECOND?(a.innerHTML=i.carParams.textContent,l.default.getCarById(E[t].id).then((e=>{a.style.color=e.color}))):e===s.COLUMN_NUMBER.THIRD?l.default.getCarById(E[t].id).then((e=>{a.textContent=e.name})):e===s.COLUMN_NUMBER.FOURTH?a.textContent=String(E[t].wins):e===s.COLUMN_NUMBER.FIFTH&&(a.textContent=String(E[t].time))}}}))}static countTimeToWin(e,t){return a(this,void 0,void 0,(function*(){const n=yield l.default.setEngineStatusReturnData(e,d.EngineStatus.Started),a=n.distance,r=n.velocity,s=Number((a/r/1e3).toFixed(2));return t?s>t?t:s:(yield l.default.setEngineStatusReturnData(e,d.EngineStatus.Stopped),s)}))}static countWins(e){return a(this,void 0,void 0,(function*(){try{const t=yield l.default.getWinnerByID(e);let{wins:n}=t;return n+=1,n}catch(e){return 1}}))}static isWinnerInTable(e){return a(this,void 0,void 0,(function*(){try{return yield l.default.getWinnerByID(e),!0}catch(e){return!1}}))}static filterTable(e){const{target:t}=e;if(e.currentTarget instanceof HTMLElement&&t instanceof HTMLElement){const n=e.currentTarget.parentNode;t.classList.contains(s.headerCellsClasses.WINS)?u.sortAndFillTable(n,d.SortFieldTypes.WIN):t.classList.contains(s.headerCellsClasses.BEST_TIME)&&u.sortAndFillTable(n,d.SortFieldTypes.TIME)}}static sortAndFillTable(e,t){const n=o.default.getField(d.LocalSt.ORDER_BY)===d.SortOrderTypes.SmallToLarge?d.SortOrderTypes.LargeToSmall:d.SortOrderTypes.SmallToLarge;o.default.setField(d.LocalSt.LAST_SORT,t),o.default.setField(d.LocalSt.ORDER_BY,n),o.default.saveState(),u.fillWinnersInTable(e)}}t.default=u},5968:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,s){function l(e){try{i(a.next(e))}catch(e){s(e)}}function o(e){try{i(a.throw(e))}catch(e){s(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}i((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(7307),s=n(6184),l=n(9873),o=n(2284),i=n(6074),d=n(2888),c=n(7554),u=n(5344),E=n(4226),f=n(7789),m=n(8160),C=n(3990),_=n(3616),g=n(5707),N=n(4274);class T{createBtnInGarage(e,t,n){return a(this,void 0,void 0,(function*(){e.preventDefault();const a={name:t.value,color:n.value,id:null};7===u.default.returnTrackChildrenLength()&&d.default.removeDisableStateFromNextPageBtn(),yield E.default.createCar(a);const r=yield E.default.getCars();a.id=r[r.length-1].id,u.default.addNewTrackInTracks(a),c.default.updateTotalCounter(!0),i.default.setDefaultFormValues(t,n)}))}updateBtnInGarage(e,t,n){if(null==e||e.preventDefault(),"submit"===(null==e?void 0:e.type)){const e=u.default.returnActiveBtnAndCarID(),{CAR_ID:a}=e,r={name:null==t?void 0:t.value,color:null==n?void 0:n.value,id:a};l.default.updateCarInGarage(r),u.default.toggleActiveState(e.ACTIVE_BTN),i.default.setDefaultFormValues(t,n),i.default.toggleDisableStateUpdateForm(!1)}}changePageBtns(e,t,n){return a(this,void 0,void 0,(function*(){const a=e.target,l=document.querySelector(`.${g.pageNumberCss.BTNS_CONTAINER}`),o=r.default.getField(s.LocalSt.CURRENT_PAGE_NAME),i=document.querySelector(`.${[..._.defaultTableParams.classNames]}`);a!==l&&(yield d.default.changePage(a,t,n),o===m.appPages.INDEX?u.default.rerenderCarsTrack():o===m.appPages.WINNER&&i&&null!==i&&i instanceof HTMLElement&&C.default.fillWinnersInTable(i))}))}selectCarBtn(e,t,n){!0!==n&&!1!==n||i.default.toggleDisableStateUpdateForm(n)}deleteCarBtn(e){return a(this,void 0,void 0,(function*(){if(u.default.usedDeleteBtn()&&e){u.default.deleteTrackByID(e),0===u.default.returnTrackChildrenLength()&&d.default.usePrevBtn(),c.default.updateTotalCounter(!1),d.default.disableStateToNextPageBtn();try{yield E.default.deleteCarByID(e),d.default.disableStateToNextPageBtn(),yield u.default.getAndAddNextTrack(),yield E.default.deleteWinnerByID(e)}catch(e){return}}}))}driveOrStopSingleCar(e,t,n,r){return a(this,void 0,void 0,(function*(){const{target:a}=e;try{if(u.default.isRaceStart(e,t,n)){u.default.toggleRaceAndResetBtns();const e=yield E.default.setEngineStatusReturnData(r,s.EngineStatus.Started);yield l.default.startDriveAnimation(e,r),yield E.default.startDriveReturnStatus(r)}else a===n&&(yield E.default.setEngineStatusReturnData(r,s.EngineStatus.Stopped),l.default.returnCarOnBase(r),u.default.toggleRaceAndResetBtns())}catch(e){l.default.carIsDead(r)}}))}filterTableData(e){C.default.filterTable(e)}raceAllCarsOnCurrentPage(e){return a(this,void 0,void 0,(function*(){l.default.animationInProgress=!1,T.weHaveWinner=!1,u.default.clickAllStartBtns(),N.default.toggleWinnerLink(!0),i.default.toggleRaceAndResetBtns(e)}))}returnAllCarsToBase(e){u.default.clickAllStopBtns(),N.default.toggleWinnerLink(!1),i.default.toggleRaceAndResetBtns(e)}generateCarsBtn(){return a(this,void 0,void 0,(function*(){d.default.removeDisableStateFromNextPageBtn();const e=[];for(let t=0;t<f.GENERATE_NUMBER;t++){const t={name:(0,o.getRandomCarName)(),color:(0,o.getRandomColor)(),id:null},n=E.default.createCar(t);e.push(n),c.default.updateTotalCounter(!0)}yield Promise.all(e),u.default.getAndAddNextTrack()}))}winner(e){return a(this,void 0,void 0,(function*(){if(!T.weHaveWinner){T.weHaveWinner=!0;const t=yield C.default.isWinnerInTable(e);if(l.default.showWinner(e),t){if(t){const t=(yield E.default.getWinnerByID(e)).time,n={id:e,wins:yield C.default.countWins(e),time:yield C.default.countTimeToWin(e,t)};yield E.default.updateWinnerByID(e,n)}}else{const t={id:e,wins:yield C.default.countWins(e),time:yield C.default.countTimeToWin(e)};yield E.default.createWinner(t)}}}))}}T.weHaveWinner=!1;const p=new T;t.default=p},7789:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GENERATE_NUMBER=void 0,t.GENERATE_NUMBER=100},8160:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.returnMaximumAvailablePages=t.defaultPageNumber=t.appPages=void 0;const a=n(6184),r=n(7307),s={INDEX:"garage",WINNER:"winner",NOT_FOUND:"not-found"};t.appPages=s,t.defaultPageNumber={INDEX:"1",WINNER:"1"},t.returnMaximumAvailablePages=function(e){return r.default.getField(a.LocalSt.CURRENT_PAGE_NAME)===s.INDEX?Math.ceil(e.length/a.TracksViewSettings.TRACKS_ROWS):Math.ceil(e.length/a.TracksViewSettings.WINNERS_ROW)}},8860:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,s){function l(e){try{i(a.next(e))}catch(e){s(e)}}function o(e){try{i(a.throw(e))}catch(e){s(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}i((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(8160),s=n(1585);t.default=class{constructor(){this.routes=this.createRoutes()}createRoutes(){return[{path:r.appPages.INDEX,callback:()=>a(this,void 0,void 0,(function*(){const{default:e}=yield Promise.resolve().then((()=>n(9022)));s.default.setContent(new e)}))},{path:r.appPages.WINNER,callback:()=>a(this,void 0,void 0,(function*(){const{default:e}=yield Promise.resolve().then((()=>n(4554)));s.default.setContent(new e)}))}]}}},4226:function(e,t,n){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,s){function l(e){try{i(a.next(e))}catch(e){s(e)}}function o(e){try{i(a.throw(e))}catch(e){s(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}i((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(6184),s=n(710),l=n(3756),o=new class{constructor(){this.url=l.MAIN_URL}createCar(e){return a(this,void 0,void 0,(function*(){const t=(0,s.createRequestOptions)(r.Methods.POST,e);if((yield fetch(`${this.url}${l.GARAGE_SUFFIX}`,t)).ok)return e;throw new Error(`${l.UNEXPECTED_ERROR}`)}))}updateCar(e,t){return a(this,void 0,void 0,(function*(){const n=(0,s.createRequestOptions)(r.Methods.PUT,t),a=yield fetch(`${this.url}${l.GARAGE_SUFFIX}/${e}`,n);if(a.ok)return a;throw a.status===r.ErrorStatusCode.NOT_FOUND?new Error(`${r.ErrorStatusCode.NOT_FOUND} ${l.CANT_FIND_CAR_IN_GARAGE}`):new Error(`${l.UNEXPECTED_ERROR}`)}))}deleteCarByID(e){return a(this,void 0,void 0,(function*(){const t=yield fetch(`${this.url}${l.GARAGE_SUFFIX}/${e}`,{method:r.Methods.DELETE});if(t.ok)return t;throw t.status===r.ErrorStatusCode.NOT_FOUND?new Error(`${r.ErrorStatusCode.NOT_FOUND} ${l.CANT_DELETE_CAR_FROM_GARAGE}`):new Error(`${l.UNEXPECTED_ERROR}`)}))}getCars(e){return a(this,void 0,void 0,(function*(){let t=l.GARAGE_SUFFIX;e&&(void 0!==e.page&&(t+=`?_page=${e.page}`),void 0!==e.limit&&(t+=`&_limit=${e.limit}`));const n=yield fetch(`${this.url}${t}`);if(n.ok)return yield n.json();throw new Error(`${l.UNEXPECTED_ERROR}`)}))}getCarById(e){return a(this,void 0,void 0,(function*(){const t=yield fetch(`${this.url}${l.GARAGE_SUFFIX}/${e}`);if(t.ok)return yield t.json();throw t.status===r.ErrorStatusCode.NOT_FOUND?new Error(`${r.ErrorStatusCode.NOT_FOUND} ${l.CANT_FIND_CAR_IN_GARAGE}`):new Error(`${l.UNEXPECTED_ERROR}`)}))}setEngineStatusReturnData(e,t){return a(this,void 0,void 0,(function*(){const n={method:r.Methods.PATCH},a=yield fetch(`${this.url}${l.ENGINE_SUFFIX}?id=${e}&status=${t}`,n);if(a.ok)return yield a.json();throw a.status===r.ErrorStatusCode.NOT_FOUND?new Error(`${a.status} ${l.CANT_FIND_CAR_IN_GARAGE}`):new Error(`${a.status} ${l.UNEXPECTED_ERROR}`)}))}startDriveReturnStatus(e){return a(this,void 0,void 0,(function*(){const t={method:r.Methods.PATCH},n=yield fetch(`${this.url}${l.ENGINE_SUFFIX}?id=${e}&status=${r.EngineStatus.Drive}`,t),{status:a}=n;if(n.ok)return yield n.json();throw a===r.ErrorStatusCode.NOT_FOUND?new Error(`${a} ${l.CANT_FIND_CAR_IN_GARAGE}`):a===r.ErrorStatusCode.TOO_MANY_REQUEST?new Error(`${a} ${l.CANNOT_DRIVE_IF_ALREADY_RUN}`):a===r.ErrorStatusCode.INTERNAL_SERVER_ERROR?new Error(`${a} ${l.ENGINE_WAS_BROKEN}`):new Error(`${l.UNEXPECTED_ERROR}`)}))}getWinners(e){return a(this,void 0,void 0,(function*(){let t=l.WINNERS_SUFFIX;e&&(void 0!==e.page&&(t+=`?_page=${e.page}`),void 0!==e.limit&&(t+=`&_limit=${e.limit}`),void 0!==e.sort&&(t+=`&_sort=${e.sort}`),void 0!==e.order&&(t+=`&_order=${e.order}`));const n=yield fetch(`${this.url}${t}`);if(n.ok)return yield n.json();throw new Error(`${l.UNEXPECTED_ERROR}`)}))}getWinnerByID(e){return a(this,void 0,void 0,(function*(){const t=yield fetch(`${this.url}${l.WINNERS_SUFFIX}/${e}`),{status:n}=t;if(t.ok)return yield t.json();throw n===r.ErrorStatusCode.NOT_FOUND?new Error(`${n} ${l.CANT_FIND_CAR_IN_GARAGE}`):new Error(`${l.UNEXPECTED_ERROR}`)}))}createWinner(e){return a(this,void 0,void 0,(function*(){const t=(0,s.createRequestOptions)(r.Methods.POST,e),n=yield fetch(`${this.url}${l.WINNERS_SUFFIX}`,t);if(n.ok)return n;throw n.status===r.ErrorStatusCode.INTERNAL_SERVER_ERROR?new Error(`${r.ErrorStatusCode.INTERNAL_SERVER_ERROR} ${l.CANT_DUPLICATE_ID}`):new Error(`${n.status} ${l.UNEXPECTED_ERROR}`)}))}deleteWinnerByID(e){return a(this,void 0,void 0,(function*(){const t=yield fetch(`${this.url}${l.WINNERS_SUFFIX}/${e}`,{method:r.Methods.DELETE});if(t.ok)return t;throw t.status===r.ErrorStatusCode.NOT_FOUND?new Error(`${r.ErrorStatusCode.NOT_FOUND} ${l.CANT_FIND_CAR_IN_WINNER}`):new Error(`${l.UNEXPECTED_ERROR}`)}))}updateWinnerByID(e,t){return a(this,void 0,void 0,(function*(){const n=(0,s.createRequestOptions)(r.Methods.PUT,t),a=yield fetch(`${this.url}${l.WINNERS_SUFFIX}/${e}`,n),{status:o}=a;if(a.ok)return a;throw o===r.ErrorStatusCode.NOT_FOUND?new Error(`${o} ${l.CANT_FIND_CAR_IN_WINNER}`):new Error(`${l.UNEXPECTED_ERROR}`)}))}};t.default=o},3756:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UNEXPECTED_ERROR=t.ENGINE_WAS_BROKEN=t.CANNOT_DRIVE_IF_ALREADY_RUN=t.CANT_DELETE_CAR_FROM_GARAGE=t.CANT_DUPLICATE_ID=t.CANT_FIND_CAR_IN_WINNER=t.CANT_FIND_CAR_IN_GARAGE=t.WINNERS_SUFFIX=t.GARAGE_SUFFIX=t.ENGINE_SUFFIX=t.MAIN_URL=void 0,t.MAIN_URL="http://127.0.0.1:3000",t.GARAGE_SUFFIX="/garage",t.ENGINE_SUFFIX="/engine",t.WINNERS_SUFFIX="/winners",t.CANT_FIND_CAR_IN_GARAGE="I can't find this car in the garage",t.CANT_FIND_CAR_IN_WINNER="I can't find this car in the winner list",t.CANT_DELETE_CAR_FROM_GARAGE="This car does not exist in our garage",t.UNEXPECTED_ERROR="Unexpected error",t.CANNOT_DRIVE_IF_ALREADY_RUN="Drive already in progress. You can't run drive for the same car twice while it's not stopped",t.ENGINE_WAS_BROKEN="Car has been stopped suddenly. It's engine was broken down.",t.CANT_DUPLICATE_ID="Error: Insert failed, duplicate id"},710:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createRequestOptions=void 0,t.createRequestOptions=function(e,t){return{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}}},7307:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const a=n(6184),r=n(8160),s="async-race",l=new class{constructor(){this.fields=this.loadState(),window.addEventListener("beforeunload",this.saveState.bind(this))}setField(e,t){this.fields.set(e,t)}getField(e){return this.fields.get(e)||""}saveState(){const e=Object.fromEntries(this.fields.entries());localStorage.setItem(s,JSON.stringify(e))}loadState(){const e=localStorage.getItem(s);if(e){const t=JSON.parse(e);return new Map(Object.entries(t))}return new Map}getCurrentPageNumber(e=this.getCurrentPageName()){const t=e===r.appPages.INDEX?JSON.parse(this.getField(a.LocalSt.TRACKS_PAGE_NUMBER)).INDEX:JSON.parse(this.getField(a.LocalSt.TRACKS_PAGE_NUMBER)).WINNER;return Number(t)}getCurrentPageName(){return this.loadState().get(a.LocalSt.CURRENT_PAGE_NAME)}};t.default=l},2737:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),n(3991);const a=n(6468),r=n(6595),s=n(4274),l=n(1394),o=n(8160);class i extends a.default{constructor(){super(a.default.getViewParams("header",r.headerClasses.HEADER)),this.headerLinkElements=new Map,this.configureView()}configureView(){const e=l.default.getElementParams("nav",r.headerClasses.NAV,"",null),t=new l.default(e);this.viewElementCreator.addInnerElement(t),Object.keys(r.namePages).forEach((e=>{const n={name:r.namePages[e],callback:null},a=new s.default(n,this.headerLinkElements);t.addInnerElement(a.getHtmlElement()),this.headerLinkElements.set(o.appPages[e].toUpperCase(),a)})),this.viewElementCreator.addInnerElement(t)}setSelectedItem(e){const t=this.headerLinkElements.get(e.toUpperCase());t instanceof s.default&&t.setSelectedStatus()}}t.default=i},4274:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),n(8506);const a=n(7127),r=n(6468),s=n(6595),l=n(7307),o=n(8160),i=n(1585),d=n(6184);class c extends r.default{constructor(e,t){super(r.default.getViewParams("a",[a.linkClasses.ITEM])),this.linkElements=t,this.configureView(e)}configureView(e){this.viewElementCreator.setTextContent(e.name),this.viewElementCreator.setCallback(e.callback);const t=this.viewElementCreator.getElement();t&&t.addEventListener("click",this.setSelectedStatus.bind(this))}setSelectedStatus(){this.linkElements.forEach((e=>{e.setNotSelectedStatus()}));const e=this.viewElementCreator.getElement();e&&e.classList.add(a.linkClasses.ITEM_SELECTED),this.setCurrentPageInState(e),i.default.rerenderMainPage()}setNotSelectedStatus(){const e=this.viewElementCreator.getElement();e&&e.classList.remove(a.linkClasses.ITEM_SELECTED)}setCurrentPageInState(e){(null==e?void 0:e.textContent)===s.namePages.INDEX?l.default.setField(d.LocalSt.CURRENT_PAGE_NAME,o.appPages.INDEX):(null==e?void 0:e.textContent)===s.namePages.WINNER&&l.default.setField(d.LocalSt.CURRENT_PAGE_NAME,o.appPages.WINNER),l.default.saveState()}static toggleWinnerLink(e){const t=document.querySelector(`.${a.linkClasses.ITEM}:nth-child(2)`);void 0!==c.winnerLinkTimeout&&(clearTimeout(c.winnerLinkTimeout),c.winnerLinkTimeout=void 0),e?(null==t||t.classList.add(a.linkClasses.ITEM_DISABLED),c.winnerLinkTimeout=setTimeout((()=>{null==t||t.classList.remove(a.linkClasses.ITEM_DISABLED),c.winnerLinkTimeout=void 0}),15e3)):setTimeout((()=>{null==t||t.classList.remove(a.linkClasses.ITEM_DISABLED)}),2500)}}t.default=c},7127:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.linkClasses=void 0,t.linkClasses={ITEM:"nav-item",ITEM_SELECTED:"nav-item__selected",ITEM_DISABLED:"nav-item__disabled"}},6595:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.namePages=t.headerClasses=void 0,t.headerClasses={HEADER:["header"],NAV:["navigation"]},t.namePages={INDEX:"Garage",WINNER:"Winner"}},9022:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const a=n(6184),r=n(6074),s=n(1394),l=n(7554),o=n(5344),i=n(6468),d=n(6793),c=n(7307),u=n(2888);class E extends i.default{constructor(){super(i.default.getViewParams("section",d.indexCss.GARAGE)),this.configureView()}configureView(){const e=c.default.getCurrentPageNumber(),t=s.default.getElementParams("div",d.indexCss.TRACKS_CONTAINER,""),n=new s.default(t).getElement(),i=(new r.default).configureView(),E=l.default.setPageTitle();l.default.setCurrentCarsNumber();const f=u.default.getElement();u.default.setPageNumber();const m=u.default.getPageNavigationButtons();i&&this.viewElementCreator.addInnerElement(i),o.default.addAllTracksOnPage(n,{page:e,limit:a.TracksViewSettings.TRACKS_ROWS}),this.viewElementCreator.addInnerElement(E),this.viewElementCreator.addInnerElement(f),this.viewElementCreator.addInnerElement(n),this.viewElementCreator.addInnerElement(m)}}t.default=E},6793:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.indexCss=void 0,t.indexCss={GARAGE:["garage"],TRACKS_CONTAINER:["tracks-container"]}},1585:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),n(8200);const a=n(6468),r=n(8999),s=n(8860),l=n(7307),o=n(6184);class i extends a.default{constructor(){super(a.default.getViewParams("main",r.mainCss.MAIN)),this.router=new s.default}setContent(e){const t=this.viewElementCreator.getElement();if(t)for(;t.firstElementChild;)t.firstElementChild.remove();this.viewElementCreator.addInnerElement(e.getHtmlElement())}rerenderMainPage(){const e=l.default.getField(o.LocalSt.CURRENT_PAGE_NAME),t=this.router.createRoutes().find((t=>t.path===e));try{if(!t||"function"!=typeof t.callback)throw Error("Route is not defined or callBack is not a function");t.callback()}catch(e){e instanceof Error&&console.error(e.message)}}}const d=new i;t.default=d},8999:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mainCss=void 0,t.mainCss={MAIN:["main"]}},6353:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.winnerCss=void 0,t.winnerCss={WINNER:["winner"]}},4554:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const a=n(2888),r=n(7554),s=n(3990),l=n(6468),o=n(6353);class i extends l.default{constructor(){super(l.default.getViewParams("section",o.winnerCss.WINNER)),this.configureView()}configureView(){const e=r.default.setPageTitle();r.default.setCurrentCarsNumber();const t=a.default.getElement(),n=(new s.default).configureView();s.default.fillWinnersInTable(n);const l=a.default.getPageNavigationButtons();a.default.setPageNumber(),this.viewElementCreator.addInnerElement(e),this.viewElementCreator.addInnerElement(t),this.viewElementCreator.addInnerElement(n),this.viewElementCreator.addInnerElement(l)}}t.default=i},6468:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const a=n(1394);t.default=class{constructor(e={tag:"section",classNames:[]}){this.viewElementCreator=this.createView(e)}getHtmlElement(){return this.viewElementCreator.getElement()}createView(e){const t={tag:e.tag,classNames:e.classNames,textContent:"",callback:null};return this.viewElementCreator=new a.default(t),this.viewElementCreator}static getViewParams(e,t){return{tag:e,classNames:[...t]}}}},5648:e=>{e.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 xmlns:xlink=%27http://www.w3.org/1999/xlink%27 version=%271.1%27 id=%27Layer_1%27 viewBox=%270 0 32 32%27 xml:space=%27preserve%27%3E%3Cpolyline style=%27fill:none;stroke:%23000000;stroke-width:2;stroke-miterlimit:10;%27 points=%276,28 6,5 26,5 26,19 6,19 %27/%3E%3Crect x=%2722%27 y=%275%27 width=%274%27 height=%274%27/%3E%3Crect x=%2719%27 y=%2715%27 width=%273%27 height=%274%27/%3E%3Crect x=%2719%27 y=%279%27 width=%273%27 height=%273%27/%3E%3Crect x=%2713%27 y=%2715%27 width=%273%27 height=%274%27/%3E%3Crect x=%2713%27 y=%279%27 width=%273%27 height=%273%27/%3E%3Crect x=%276%27 y=%2715%27 width=%274%27 height=%274%27/%3E%3Crect x=%276%27 y=%279%27 width=%274%27 height=%273%27/%3E%3Crect x=%2722%27 y=%2712%27 width=%274%27 height=%273%27/%3E%3Crect x=%2716%27 y=%2712%27 width=%273%27 height=%273%27/%3E%3Crect x=%2710%27 y=%2712%27 width=%273%27 height=%273%27/%3E%3Crect x=%2716%27 y=%275%27 width=%273%27 height=%274%27/%3E%3Crect x=%2710%27 y=%275%27 width=%273%27 height=%274%27/%3E%3C/svg%3E"}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var s=t[a]={id:a,exports:{}};return e[a].call(s.exports,s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.b=document.baseURI||self.location.href,n.nc=void 0,n(4404),(new(n(6922).default)).runApplication()})();